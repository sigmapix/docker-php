# For PHP images

export PHP_VERSION=7.4.3

docker build --no-cache --rm -f Dockerfile.${PHP_VERSION}-apache-buster .

# export SOURCE_IMAGE=XXXXXXXXXXXX

docker tag ${SOURCE_IMAGE} sigmapix/php:${PHP_VERSION}-apache-buster
docker push sigmapix/php:${PHP_VERSION}-apache-buster

git add Dockerfile.${PHP_VERSION}-apache-buster
git commit -a -m "Add php ${PHP_VERSION}-apache-buster dockerfile"
git push

# For Frankenphp images

docker build --no-cache --rm -f Dockerfile.frankenphp-1.2.5-php8.3.12-bookworm .

# export SOURCE_IMAGE=XXXXXXXXXXX

docker tag ${SOURCE_IMAGE} sigmapix/frankenphp:1.2.5-php8.3.12-bookworm
docker push sigmapix/frankenphp:1.2.5-php8.3.12-bookworm

git add Dockerfile.frankenphp.1.2.5-php8.3.12-bookworm
git commit -a -m "Add frankenphp 1.2.5-php8.3.12-bookworm dockerfile"
git push
